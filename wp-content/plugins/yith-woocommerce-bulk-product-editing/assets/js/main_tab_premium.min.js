jQuery(function(a){var Qa,Ua,Ya,b=!1,c=a("#yith-wcbep-my-page-wrapper"),d="yes"==c.data("is-vendor"),e=a(".yith_webep_attr_chosen"),f=a("#yith-wcbep-resize-table"),g=a(".yith-wcbep-chosen"),h=a("#yith-wcbep-custom-input-categories"),j=a("#yith-wcbep-custom-input"),k=a("#yith-wcbep-custom-input-textarea"),l=a("#yith-wcbep-custom-input-textarea-button-save"),m=a("#yith-wcbep-custom-input-textarea-button-cancel"),n=a("#yith-wcbep-custom-input-date"),o=a("#yith-wcbep-custom-input-image"),p=a("#yith-wcbep-custom-input-image-button-save"),q=a("#yith-wcbep-custom-input-image-button-cancel"),r=a("#yith-wcbep-custom-input-image-button-remove"),s=a("#yith-wcbep-custom-input-gallery"),t=a("#yith-wcbep-custom-input-gallery-button-cancel"),u=a("#yith-wcbep-custom-input-gallery-button-save"),v=a("#yith-wcbep-custom-input-gallery-button-add"),w=a("#yith-wcbep-custom-input-downloadable-files"),x=a("#yith-wcbep-custom-input-downloadable-files-button-cancel"),y=a("#yith-wcbep-custom-input-downloadable-files-button-save"),z=a("#yith-wcbep-custom-input-downloadable-files-button-add"),A=a("#yith-wcbep-custom-input-downloadable-files-default-row tbody"),B=a("#yith-wcbep-custom-input-downloadable-files-table"),C=a("#yith-wcbep-message-not-editable"),D=null,E=null,F=[],G=[],H=[],I=[],J=a("#yith-wcbep-get-products"),K=a("#yith-wcbep-filter-form"),L=a("#yith-wcbep-title-filter-select"),M=a("#yith-wcbep-title-filter-value"),N=a("#yith-wcbep-sku-filter-select"),O=a("#yith-wcbep-sku-filter-value"),P=a("#yith-wcbep-categories-filter"),Q=a("#yith-wcbep-brands-filter"),R=a("#yith-wcbep-tags-filter"),S=a("#yith-wcbep-regular-price-filter-select"),T=a("#yith-wcbep-regular-price-filter-value"),U=a("#yith-wcbep-sale-price-filter-select"),V=a("#yith-wcbep-sale-price-filter-value"),W=a("#yith-wcbep-weight-filter-select"),X=a("#yith-wcbep-weight-filter-value"),Y=a("#yith-wcbep-per-page-filter"),Z=a("#yith-wcbep-show-variations-filter"),$=a("#yith-wcbep-reset-filters"),_=a("#yith-wcbep-check-by-filters"),aa=a("#yith-wcbep-table-wrap"),ba=aa.find(".wp-list-table").first(),ca=a("#yith-wcbep-bulk-edit-btn"),da=a("#yith-wcbep-bulk-editor"),ea=a("#yith-wcbep-bulk-cancel"),fa=a("#yith-wcbep-bulk-apply"),ga=a("#yith-wcbep-categories-bulk-select"),ha=a("#yith-wcbep-categories-bulk-chosen"),ia=a(".yith-wcbep-attributes-bulk-chosen"),ja=a("#yith-wcbep-tags-bulk-select"),ka=a("#yith-wcbep-tags-bulk-value"),la=a("#yith-wcbep-tags-bulk-replace"),ma=a("#yith-wcbep-save"),na=a("#yith-wcbep-cols-settings-btn"),oa=a("#yith-wcbep-columns-settings-wrapper"),pa=a("#yith-wcbep-columns-settings-select-all"),qa=a("#yith-wcbep-columns-settings-unselect-all"),ra=a("#yith-wcbep-importer-wrapper"),sa=a("#yith-wcbep-importer-cancel"),ta=a("#yith-wcbep-importer-save"),ua=a("#yith-wcbep-importer-upload-url"),va=a("#yith-wcbep-importer-upload-btn"),wa=[],xa=[],ya=a("#yith-wcbep-undo"),za=a("#yith-wcbep-redo"),Aa=a("#yith-wcbep-new"),Ba=a("#yith-wcbep-delete"),Ca=a("#yith-wcbep-export"),Da=a("#yith-wcbep-import"),Fa=(a("#yith-wcbep-imported-file"),a("#yith-wcbep-export-form")),Ga=a("#yith-wcbep-export-form-btn"),Ha=a("#yith-wcbep-export-ids"),Ia=a("#yith-wcbep-message"),Ja=ba.width(),Ka=a(".yith-wcbep-close"),La=Ja*f.width()/100,Ma={message:null,overlayCSS:{background:"#000 url()",opacity:.6},ignoreIfBlocked:!0},Na={message:null,overlayCSS:{background:"#000 url()",opacity:.6,cursor:"default"}},Oa=function(b,c){if(c==w){var d=B.find("tr"),e="";return B.find("tr").each(function(){var b=a(this).find("td.file_name input").val(),c=a(this).find("td.file_url input").val();e+='<input type="hidden" class="yith-wcbep-hidden-downloadable-file" data-file-name="'+b+'" data-file-url="'+c+'" />'}),d.length>0&&(e+=d.length>1?d.length+" "+ajax_object.files:d.length+" "+ajax_object.file),void b.html(e)}if(c==s){var f="";return c.find("li.image img").each(function(){f+='<img data-image-id="'+a(this).data("image-id")+'" src="'+a(this).attr("src")+'" />'}),void b.find(".yith-wcbep-table-image-gallery").html(f)}if(c!=h&&c!=Ua&&c!=Ya){if(c==k)return void b.html(c.find("textarea").val());if(c==n)return void b.html(c.find("input").val());if(c==o){var q=c.find("img").attr("src")?c.find("img").attr("src"):"",r=c.find(".yith-wcbep-hidden-image-value").val();return b.find("img").attr("src",q),void b.find(".yith-wcbep-hidden-image-value").val(r)}var t=c.find("input");if(b.hasClasses(["regular_price","sale_price","weight","height","width","length","stock_quantity","download_limit","download_expiry","menu_order"],"OR")){var u=t.val();isNaN(u)?""==u&&b.html(""):b.html(u)}else{var v=!!b.find(".yith-wcbep-editable-checkbox").length;if(v)return;b.html(t.val())}}else{var g=null!=c.find(".chosen").val()?c.find(".chosen").val():"";b.find(".yith-wcbep-select-selected").val("["+g+"]");var i=c.find("select"),j="";""!=g&&"object"!=typeof g&&(g=[g]);for(var l in g)j+=i.find("option[value="+g[l]+"]").html(),l<g.length-1&&(j+=", ");if(b.find(".yith-wcbep-select-values").html(j),c==Ua)if(b.find(".yith-wcbep-attr-is-visible").val()==-1||b.find(".yith-wcbep-attr-is-variation").val()==-1);else{var m=c.find(".yith-wcbep-custom-input-attributes-visible").is(":checked")?"1":"0",p=c.find(".yith-wcbep-custom-input-attributes-variations").is(":checked")?"1":"0";b.find(".yith-wcbep-attr-is-visible").val(m),b.find(".yith-wcbep-attr-is-variation").val(p)}}},Pa=function(a){var b=!1;return j.is(":visible")&&(b=!0,a&&j.hide(),D&&(Oa(D,j),j.val(""),D=null)),h.is(":visible")&&(b=!0,a&&h.hide(),D&&(Oa(D,h),D=null)),k.is(":visible")&&(b=!0,a&&k.hide(),D&&(D=null)),n.is(":visible")&&(b=!0,a&&n.hide(),D&&(Oa(D,n),D=null)),Ua&&Ua.is(":visible")&&(b=!0,a&&Ua.hide(),D&&(Oa(D,Ua),D=null)),o.is(":visible")&&(b=!0,a&&o.hide(),D&&(D=null)),s.is(":visible")&&(b=!0,a&&s.hide(),D&&(D=null)),w.is(":visible")&&(b=!0,a&&w.hide(),D&&(D=null)),Ya&&Ya.is(":visible")&&(b=!0,a&&Ya.hide(),D&&(Oa(D,Ya),D=null)),C.is(":visible")&&a?void C.hide():void(Qa&&b&&(Ra(),Qa=null))},Ra=function(){var a=Qa.data("y"),b=Qa.data("x")+1,c=Qa.html(),d=!1;c!=F[a][b]?(Qa.addClass("yith-wcbep-table-modified-td"),d=!0):Qa.removeClass("yith-wcbep-table-modified-td"),db()},Sa=[],Ta=function(b){var c=0;Sa=[],xa=[],ba.find("tbody#the-list > tr").each(function(){var b=a(this).children("td"),d=!1;if(b.length>0){var e=1,f=[];f.push(0),b.each(function(){var b=a(this).html();b!=F[c][e]?(a(this).addClass("yith-wcbep-table-modified-td"),d=!0,f.push(1)):(a(this).removeClass("yith-wcbep-table-modified-td"),f.push(0)),e++}),Sa.push(f),d&&xa.push(c),c++}}),b&&db()},Va=function(){s.find(".yith-wcbep-image-gallery").sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(a,b){b.item.css("background-color","#aaa")},stop:function(a,b){b.item.removeAttr("style")},update:function(){a("#yith-wcbep-custom-input-gallery-container ul li.image").css("cursor","default")}}),s.find("span.delete").on("click",function(){a(this).closest("li.image").remove()})},Wa=function(){w.find(".delete").on("click",function(){a(this).closest("tr").remove()}),w.find(".yith-wcbep-custom-input-downloadable-files-choose-file").on("click",function(){var b=a(this).closest("tr"),c=wp.media({title:"Choose file",multiple:!1}).open().on("select",function(){var a=c.state().get("selection").first(),d=a.toJSON().url;b.find("td.file_url input").val(d)})}),B.sortable({items:"tr",cursor:"move",axis:"y",handle:"td.sort",scrollSensitivity:40,forcePlaceholderSize:!0,helper:"clone",opacity:.65})},Xa=function(){var a=ba.children("thead").find("th:visible").length,b=150*a;b=Ja>b?Ja:b;var c=100*b/Ja;f.css({width:c+"px"}),f.trigger("resize"),ba.css({height:"auto",width:b})},Za=function(){Xa(),cb=[],bb=0,ba=a("#yith-wcbep-table-wrap .wp-list-table"),$a(),Qa=null,ba.on("click","th#cb input",function(){var b=ba.find("tbody#the-list th.check-column > input");a(this).is(":checked")?b.attr("checked",!0):b.attr("checked",!1)}),ba.on("click","td.stock_status, td.manage_stock, td.sold_individually, td.featured, td.virtual, td.downloadable, td.enable_reviews",function(){var b=a(this).find("input.yith-wcbep-editable-checkbox"),c=a(this).find("input.yith-wcbep-hidden-checkbox-value");b.is(":checked")?c.val("1"):c.val("0"),D=a(this).closest("td"),Qa=D,Ra()});extra_class.select.length>0?", "+extra_class.select:"";ba.on("change","td .yith-wcbep-editable-select",function(){var b=a(this),c=a(this).closest("td").find("input.yith-wcbep-hidden-select-value");c.val(b.val()),D=a(this).closest("td"),Qa=D,Ra()});var c=extra_class.text,d=["title","regular_price","sale_price","sku","tags","weight","height","width","length","stock_quantity","download_limit","download_expiry","menu_order","button_text","product_url","slug","up_sells","cross_sells"];d=d.concat(c),ba.on("click","td",function(b){if(b.stopPropagation(),Pa(!0),D=a(b.target),Qa=a(b.target).closest("td"),E=a(b.target),D.is("td")||(D=D.closest("td")),D.closest("td").find(".not_editable").length>0||D.closest("td").find(".not_editable_for_new").length>0){D.closest("td").find(".not_editable").length>0?C.html(ajax_object.not_editable_variations):D.closest("td").find(".not_editable_for_new").length>0&&C.html(ajax_object.not_editable_new_product),C.show();var c=b.pageY-55-10,e=b.pageX-107.5;return void C.offset({top:c,left:e})}if(D.hasClasses(d,"OR")){var f=j.find("input");j.width(D.width()),j.height(D.height()),j.show(),j.offset(D.offset()),f.width(D.width()),f.height(D.height()),f.val(D.html()),f.trigger("focus").select()}else if(a(b.target).closest("td").hasClasses(["categories"],"OR"))D=a(b.target).closest("td"),E=a(b.target).closest("td"),j.prop("contenteditable","false"),h.width(D.width()),h.height(D.height()),h.find(".chosen").val(a.parseJSON(D.find(".yith-wcbep-select-selected").val())),h.find(".chosen").trigger("chosen:updated"),h.show(),h.offset(D.offset()),h.find(".chosen").trigger("chosen:open");else if(D.hasClasses(["description","shortdesc","purchase_note"],"OR"))k.find("textarea").val(D.html()),k.show(),k.offset(D.offset());else if(D.hasClasses(["image"],"OR")||a(b.target).closest("td").hasClasses(["image"],"OR")){D=a(b.target).closest("td");var g=D.find("img").attr("src")?D.find("img").attr("src"):"",i=D.find(".yith-wcbep-hidden-image-value").val();o.find("img").attr("src",g),o.find(".yith-wcbep-hidden-image-value").val(i),o.show(),o.offset(D.offset())}else if(D.hasClasses(["image_gallery"],"OR")||a(b.target).closest("td").hasClasses(["image_gallery"],"OR")){D=a(b.target).closest("td");var l=D.find("img"),m='<ul class="yith-wcbep-image-gallery">';l.length>0&&l.each(function(){m+='<li class="image"><span class="delete">x</span><img data-image-id="'+a(this).data("image-id")+'" src="'+a(this).attr("src")+'"></li>'}),m+="</ul>",s.find("#yith-wcbep-custom-input-gallery-container").html(m),Va(),s.show(),s.offset(D.offset())}else if(D.hasClasses(["downloadable_files"],"OR")||a(b.target).closest("td").hasClasses(["downloadable_files"],"OR")){D=a(b.target).closest("td"),B.html("");var p=D.find(".yith-wcbep-hidden-downloadable-file"),q=a(A.html());p.length>0&&(p.each(function(){var b=q.clone(),c=a(this);b.find("td.file_name input").val(c.data("file-name")),b.find("td.file_url input").val(c.data("file-url")),B.append(b)}),Wa()),w.show(),w.offset({top:D.offset().top,left:D.offset().left-w.width()/2})}else if(D.hasClasses(["date","sale_price_from","sale_price_to"],"OR")){var f=n.find("input");n.width(D.width()),n.height(D.height()),f.width(D.width()),f.height(D.height()),f.val(D.html()),n.show(),n.offset(D.offset()),f.datepicker({dateFormat:"yy/mm/dd"}),f.trigger("focus")}else if(D.hasClasses(extra_obj.chosen,"OR")){var r="yith-wcbep-custom-input-"+D.prop("class").split(" ")[0];Ya=a("#"+r),Ya.width(D.width()),Ya.height(D.height()),Ya.find(".chosen").val(a.parseJSON(D.find(".yith-wcbep-select-selected").val())),Ya.find(".chosen").trigger("chosen:updated"),Ya.show(),Ya.offset(D.offset()),Ya.find(".chosen").trigger("chosen:open")}else if(a(b.target).closest("td").is('[class^="attr_"]')){D=a(b.target).closest("td");var t=D.prop("class").split(" ")[0].replace("attr_","");if(Ua=a("#yith-wcbep-custom-input-attributes-"+t),E=a(b.target).closest("td"),Ua.width(D.width()),D.find(".yith-wcbep-attr-is-visible").val()==-1||D.find(".yith-wcbep-attr-is-variation").val()==-1){Ua.find(".yith-wcbep-custom-input-attributes-checkbox-wrap").hide();var u=Ua.find(".chosen");u.prop("multiple")&&(u.chosen("destroy"),u.removeAttr("multiple").append(a("<option></option>").attr("value","").text(ajax_object.leave_empty)),u.chosen({width:"100%"})),u.val(a.parseJSON(D.find(".yith-wcbep-select-selected").val())),u.trigger("chosen:updated")}else{Ua.find(".yith-wcbep-custom-input-attributes-checkbox-wrap").show();var u=Ua.find(".chosen");u.prop("multiple")||(u.chosen("destroy"),u.attr("multiple",!0),u.find('option[value=""]').remove(),u.chosen({width:"100%"})),1==D.find(".yith-wcbep-attr-is-visible").val()?Ua.find(".yith-wcbep-custom-input-attributes-visible").prop("checked",!0):Ua.find(".yith-wcbep-custom-input-attributes-visible").prop("checked",!1),1==D.find(".yith-wcbep-attr-is-variation").val()?Ua.find(".yith-wcbep-custom-input-attributes-variations").prop("checked",!0):Ua.find(".yith-wcbep-custom-input-attributes-variations").prop("checked",!1),u.val(a.parseJSON(D.find(".yith-wcbep-select-selected").val())),u.trigger("chosen:updated")}Ua.show(),Ua.offset(D.offset())}}),db()},$a=function(){F=[],I=[];var b=0;ba.find("tbody#the-list > tr").each(function(){var c=a(this).children("td"),d=[a(this).children("th")];if(c.length>0){var e=[!1],f=0;c.each(function(){a(this).data("y",b),a(this).data("x",f),e.push(a(this).html()),d.push(a(this)),f++}),F.push(e),I.push(d)}b++}),H=hb()},_a=function(){var b=[];return ba.find("tbody#the-list > tr").each(function(){var c=a(this).children("td");if(c.length>0){var d=[!1];c.each(function(){var b=a(this).find(".yith-wcbep-select-selected"),c=a(this).find("input.yith-wcbep-hidden-checkbox-value"),e=a(this).find("input.yith-wcbep-hidden-select-value"),f=a(this).find("input.yith-wcbep-hidden-image-value"),g=a(this).find(".yith-wcbep-table-image-gallery"),h=a(this).find(".yith-wcbep-hidden-downloadable-file"),i=a(this).find(".not_editable");if(b.length>0){var j=[],k=a(this).find("input.yith-wcbep-attr-is-visible"),l=a(this).find("input.yith-wcbep-attr-is-variation");k.length>0&&l.length>0?(j.push(k.val()),j.push(l.val()),j.push(a.parseJSON(b.val())),d.push(j)):d.push(b.val())}else if(c.length>0)d.push(c.val());else if(e.length>0)d.push(e.val());else if(f.length>0)d.push(f.val());else if(g.length>0){var m=[];a(this).find("img").each(function(){m.push(a(this).data("image-id"))}),m=m.length>0?m:"",d.push(m)}else if(h.length>0){var n=[];h.each(function(){n.push([a(this).data("file-name"),a(this).data("file-url")])}),n=n.length>0?n:"",d.push(n)}else i.length>0?a(this).is(".prod_type")?d.push("variation"):d.push(i.html()):d.push(a(this).html())}),b.push(d)}}),b},ab=function(){var b=[];return ba.find("tbody#the-list > tr").each(function(){var c=a(this).children("td.ID");c.length>0&&c.each(function(){b.push(parseInt(a(this).html()))})}),b},bb=0,cb=[],db=function(){var b=[];return ba.find("tbody#the-list > tr").each(function(){var c=a(this).children("td");if(c.length>0){var d=[];c.each(function(){d.push(a(this).html())}),b.push(d)}}),cb[bb-1]?cb[bb-1].toString()!=b.toString()&&(cb[bb]=b,bb++,cb=cb.slice(0,bb)):(cb[bb]=b,bb++),b},eb=function(b){var c=0;ba.find("tbody#the-list > tr").each(function(){var d=a(this).children("td");if(d.length>0){var e=0;d.each(function(){a(this).html(b[c][e]);var d=a(this).find(".yith-wcbep-editable-select"),f=a(this).find(".yith-wcbep-editable-checkbox"),g="";d.length>0?(g=a(this).find(".yith-wcbep-hidden-select-value").val(),d.val(g)):f.length>0&&(g=a(this).find(".yith-wcbep-hidden-checkbox-value").val(),f.prop("checked",1==g)),e++})}c++}),Ta()},fb=function(){bb>1&&(bb--,eb(cb[bb-1]))},gb=function(){cb[bb]&&(eb(cb[bb]),bb++)},hb=function(){var b=[];return ba.children("thead").children("tr").children("th").each(function(){b.push(a(this).attr("id"))}),b},ib=function(){var b=0,c=[];return ba.find("tbody#the-list > tr").each(function(){var d=a(this).find("th.check-column input:checked");d.length>0&&c.push(b),b++}),c},jb=function(){da.find("input.is_resetable, textarea.is_resetable").each(function(){a(this).val("")}),da.find("select.is_resetable").each(function(){a(this).hasClass("chosen")||(a(this).prop("selectedIndex",0),a(this).trigger("change"))}),da.find("select.is_resetable").each(function(){a(this).prop("selectedIndex",0),a(this).trigger("change")}),da.find(".yith-wcbep-image-bulk-reset").trigger("click");var b=extra_bulk.chosen;for(i in b){var c=a("#yith-wcbep-"+b[i]+"-bulk-chosen");c.chosen("destroy"),c.prop("selectedIndex",-1),c.chosen({width:"100%"})}ha.chosen("destroy"),ha.prop("selectedIndex",-1),ha.chosen({width:"100%"}),ia.each(function(){a(this).chosen("destroy"),a(this).prop("selectedIndex",-1),a(this).chosen({width:"100%"})})},kb=function(){K.find("input.is_resetable").each(function(){a(this).val("")}),K.find("select.is_resetable").each(function(){a(this).prop("selectedIndex",0)}),K.find(".chosen.is_resetable").each(function(){a(this).chosen("destroy"),a(this).prop("selectedIndex",-1),a(this).chosen({width:"95%"})})},lb=function(){if(E)for(var b in I){var c=I[b];for(var d in c)if(a(c[d])[0]==E[0]&&"undefined"!=typeof I[parseInt(b)+1])return a(I[parseInt(b)+1][d]).trigger("click"),void j.selectText()}},mb=function(){var b=[];if(oa.find("input[type=checkbox]").each(function(){var c=a(this).data("cols-id");a(this).is(":checked")?ba.find(".column-"+c).show():(ba.find(".column-"+c).hide(),b.push(c))}),!d){var c={hidden_cols:b,action:"yith_wcbep_save_default_hidden_cols"};a.ajax({type:"POST",data:c,url:ajaxurl,success:function(a){}})}Xa()};a.fn.extend({hasClasses:function(b,c){var d=this;if("OR"==c){for(var e in b)if(a(d).hasClass(b[e]))return!0;return!1}var f=!0;for(var e in b)a(d).hasClass(b[e])||(f=!1);return f}}),a.fn.selectText=function(){var a=document,b=this[0];if(a.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b),c.select()}else if(window.getSelection){var d=window.getSelection(),c=document.createRange();c.selectNodeContents(b),d.removeAllRanges(),d.addRange(c)}},Ka.on("click",function(){a(this).parent().fadeOut()}),a(".yith-wcbep-datepicker").datepicker({dateFormat:"yy/mm/dd"}),da.draggable({stop:function(){a(this).css({height:"auto"})}}),oa.draggable(),ra.draggable(),ba.css({height:"auto",width:La}),f.resizable({minHeight:20,maxHeight:20,minWidth:100,handles:"e",resize:function(){var b=Ja*a(this).width()/100;ba.css({height:"auto",width:b})}}),a("#yith-wcbep-bulk-editor-container").tabs(),K.find(".chosen").chosen({width:"95%"}),g.chosen({width:"100%"}),ia.chosen({width:"100%"}),j.offset([0,0]),Aa.on("click",function(){var a='<tr class="yith-wcbep-table-new-product">';for(var b in H){var c=H[b]+" column-"+H[b],d="";switch(H[b]){case"cb":a+='<th scope="row" class="check-column"></th>';break;case"ID":d="NEW";break;case"title":d="New Product";break;case"image":d='<img src=""><input class="yith-wcbep-hidden-image-value" value="" type="hidden">';break;case"image_gallery":d='<div class="yith-wcbep-table-image-gallery"></div>';break;case"categories":d='<div class="yith-wcbep-select-values"></div> <input class="yith-wcbep-select-selected" value="[]" type="hidden">';break;case"stock_status":case"manage_stock":case"sold_individually":case"featured":case"virtual":case"downloadable":case"enable_reviews":d='<input class="yith-wcbep-editable-checkbox" type="checkbox"> <input class="yith-wcbep-hidden-checkbox-value" value="0" type="hidden">';break;case"tax_status":case"tax_class":case"allow_backorders":case"shipping_class":case"status":case"visibility":case"download_type":case"prod_type":d='<div class="not_editable_for_new"></div><input type="hidden" class="yith-wcbep-hidden-checkbox-value" value="">'}"attr_"==H[b].substring(0,5)&&(d='<div class="not_editable_for_new"></div>'),"cb"!=H[b]&&(a+='<td class="'+c+'">'+d+"</td>")}a+="</tr>",ba.find("tbody").prepend(a),mb(),Za()}),Ba.on("click",function(b){if(b.stopPropagation(),wa=ib(),!(wa.length<1)){if("yes"!=a(this).data("confirm"))return a(this).val(ajax_object.delete_confirm_txt.replace("%s",wa.length)),a(this).data("confirm","yes"),void a(this).addClass("yith-wcbep-confirm-btn");a(this).val(ajax_object.delete_txt),a(this).data("confirm","no"),a(this).removeClass("yith-wcbep-confirm-btn"),ba.block(Ma),ma.prop("disabled",!0),ca.prop("disabled",!0);var c=ab(),d=[];for(var e in wa){var f=c[wa[e]];d.push(f)}var g={products_to_delete:d,action:"yith_wcbep_bulk_delete_products"};a.ajax({type:"POST",data:g,url:ajaxurl,success:function(b){Ia.html("<p>"+b+"</p>");var c=a('<button type="button" class="notice-dismiss" />');c.appendTo(Ia),Ia.fadeIn(),c.on("click",function(){Ia.fadeOut()}),J.trigger("click")}})}}),Ca.on("click",function(){if(wa=ib(),!(wa.length<1)){var a=_a(),b=[];for(var c in wa)b.push(a[wa[c]]);var d=[H,b],e=JSON.stringify(d),f=document.createElement("a");f.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),f.setAttribute("download","yith_exported_products.txt"),f.style.display="none",document.body.appendChild(f),f.click(),document.body.removeChild(f)}}),Ga.on("click",function(){if(wa=ib(),!(wa.length<1)){var a=_a(),b=[];for(var c in wa)b.push(parseInt(a[wa[c]][H.indexOf("ID")]));var d=JSON.stringify(b);Ha.val(d),Fa.submit()}}),ya.on("click",function(){fb()}),za.on("click",function(){gb()}),l.on("click",function(){Oa(D,k),Pa(!0)}),m.on("click",function(){Pa(!0)}),u.on("click",function(){Oa(D,s),Pa(!0)}),t.on("click",function(){Pa(!0)}),v.on("click",function(){var a=wp.media({title:"Upload Image",multiple:!0}).open().on("select",function(b){var c=a.state().get("selection"),d="";c.map(function(a){var b=a.toJSON().url;d+='<li class="image"><span class="delete">x</span><img data-image-id="'+a.id+'" src="'+b+'"></li>'}),s.find("#yith-wcbep-custom-input-gallery-container ul").append(d),Va()})}),p.on("click",function(){Oa(D,o),Pa(!0)}),r.on("click",function(){o.find("img").attr("src",""),o.find(".yith-wcbep-hidden-image-value").val("")}),q.on("click",function(){Pa(!0)}),o.find("img").on("click",function(b){b.preventDefault();var c=a(this),d=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(a){var b=d.state().get("selection").first(),e=b.toJSON().url;c.attr("src",e),o.find(".yith-wcbep-hidden-image-value").val(b.id)})}),a("#yith-wcbep-image-bulk-choose-image").on("click",function(b){var c=a(this),d=c.closest(".yith-wcbep-bulk-form-content-col"),e=d.find("#yith-wcbep-image-bulk-preview"),f=d.find("#yith-wcbep-image-bulk-value"),g=d.find("#yith-wcbep-image-bulk-src"),h=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(b){var c=h.state().get("selection").first(),d=c.toJSON().url,i=a("<img />").attr("src",d),j=a('<span class="yith-wcbep-image-bulk-reset dashicons dashicons-no-alt"></span>');e.html("").append(i).append(j),f.val(c.id),g.val(d)})}),a(document).on("click",".yith-wcbep-image-bulk-reset",function(){var b=a(this),c=b.closest(".yith-wcbep-bulk-form-content-col"),d=c.find("#yith-wcbep-image-bulk-preview"),e=c.find("#yith-wcbep-image-bulk-value"),f=c.find("#yith-wcbep-image-bulk-src");e.val(""),d.html(""),f.val("")}),z.on("click",function(){B.append(A.html()),Wa()}),y.on("click",function(){Oa(D,w),Pa(!0)}),x.on("click",function(){Pa(!0)}),da.find("select").on("change",function(){var b=a(this);"rep"==b.val()?b.parent().find(".yith_wcbep_no_display").show():b.parent().find(".yith_wcbep_no_display").hide()}),c.on("click",function(){Pa(!0),oa.fadeOut(),Ba.val(ajax_object.delete_txt).data("confirm","no").removeClass("yith-wcbep-confirm-btn")}),j.on("click",function(a){a.stopPropagation()}).keypress(function(a){13==a.which&&(Pa(!0),a.stopPropagation(),setTimeout(lb,0))}),J.on("click",function(){var b=[];e.each(function(){var c=a(this).val();"undefined"!=typeof c&&c&&b.push([a(this).data("taxonomy-name"),a(this).val()])});var c={f_title_select:L.val(),f_title_value:M.val(),f_sku_select:N.val(),f_sku_value:O.val(),f_categories:P.val(),f_tags:R.val(),f_attributes:b,f_reg_price_select:S.val(),f_reg_price_value:T.val(),f_sale_price_select:U.val(),f_sale_price_value:V.val(),f_weight_select:W.val(),f_weight_value:X.val(),f_per_page:Y.val(),f_show_variations:Z[0].checked?"yes":"no"};list.update(c)}),ca.on("click",function(){Pa(!0);var b=ba.find("tbody#the-list th.check-column > input:checked"),c=[];if(b.each(function(){c.push(a(this).val())}),c.length<1)return void alert(ajax_object.no_product_selected);var d=a(window).scrollTop()+100;da.css({top:d}),da.fadeIn(),a("#wpwrap").block(Na),wa=ib()}),ea.on("click",function(){da.fadeOut(),jb(),a("#wpwrap").unblock()}),da.keypress(function(a){13==a.which&&fa.trigger("click")}),da.find("textarea").keypress(function(a){13==a.which&&a.stopPropagation()}),fa.on("click",function(){var b=ga.val(),c=null!=ha.val()?ha.val():"",d=[],e=[],f=ja.val(),g=ka.val(),h=la.val();ha.find("option").each(function(){d.push(a(this).val()),e.push(a(this).text())});for(var i in wa){var j=wa[i];if(H.indexOf("categories")>-1){var k=a(I[j][H.indexOf("categories")]),l=a.parseJSON(k.find(".yith-wcbep-select-selected").val()),m="",n=[];for(var o in l)n.push(l[o].toString());switch(l=n.slice(),b){case"new":m=c;break;case"add":m=l.slice();for(var o in c)m.indexOf(c[o])==-1&&m.push(c[o]);break;case"rem":m=l.slice();for(var o in c){var i=m.indexOf(c[o]);i>-1&&m.splice(i,1)}}var p=m;k.find(".yith-wcbep-select-selected").val("["+p+"]");var q="";for(var o in p)q+=e[d.indexOf(p[o])],o<p.length-1&&(q+=", ");k.find(".yith-wcbep-select-values").html(q)}var r=extra_bulk.chosen;for(var o in r)if(H.indexOf(r[o])>-1){var s=a(I[j][H.indexOf(r[o])]),t=a.parseJSON(s.find(".yith-wcbep-select-selected").val()),u="",v=[],w=a("#yith-wcbep-"+r[o]+"-bulk-select").val(),x=a("#yith-wcbep-"+r[o]+"-bulk-chosen"),y=x.val();for(var o in t)t[o]&&v.push(t[o].toString());switch(t=v.slice(),w){case"new":u=y;break;case"add":u=t.slice();for(var o in y)u.indexOf(y[o])==-1&&u.push(y[o]);break;case"rem":u=t.slice();for(var o in y){var i=u.indexOf(y[o]);i>-1&&u.splice(i,1)}}var p=u;s.find(".yith-wcbep-select-selected").val("["+p+"]");var q="";for(var o in p){var z=x.find("option[value="+p[o]+"]").text();q+=z,o<p.length-1&&(q+=", ")}s.find(".yith-wcbep-select-values").html(q)}if(H.indexOf("tags")>-1){var A=a(I[j][H.indexOf("tags")]),B=F[j][H.indexOf("tags")],C="";if((""!=g||"del"==f)&&A.find(".not_editable").length<1){switch(f){case"new":C=g;break;case"pre":C=g+B;break;case"app":C=B+g;break;case"rep":C=B.replace(new RegExp(g,"g"),h);break;case"del":C=""}A.html(C)}}var D=["weight","height","width","length","stock_quantity","download_limit","download_expiry","regular_price","sale_price"];for(var o in D)if(H.indexOf(D[o])>-1){var s=a(I[j][H.indexOf(D[o])]),E=parseFloat(s.html()),G="",J=a("#yith-wcbep-"+D[o]+"-bulk-select").val(),K=a("#yith-wcbep-"+D[o]+"-bulk-value").val();if((!isNaN(K)&&""!=K||"del"==J)&&s.find(".not_editable").length<1){switch(J){case"new":G=parseFloat(K);break;case"inc":E=isNaN(E)?0:E,G=E+parseFloat(K);break;case"dec":G=E>0?E-parseFloat(K):"";break;case"incp":G=E>0?E+E*parseFloat(K)/100:"";break;case"decp":G=E>0?E-E*parseFloat(K)/100:"";break;case"decfr":var L=a(I[j][H.indexOf("regular_price")]);E=parseFloat(L.html()),isNaN(E)||""==E||(G=E-parseFloat(K));break;case"decpfr":var L=a(I[j][H.indexOf("regular_price")]);E=parseFloat(L.html()),isNaN(E)||""==E||(G=E-E*parseFloat(K)/100);break;case"del":G=""}""!=G&&(G<0||isNaN(G))&&(G=0),s.html(G)}}var M=["purchase_note","description","shortdesc"];for(var o in M)if(H.indexOf(M[o])>-1){var s=a(I[j][H.indexOf(M[o])]),E=s.html(),G="",J=a("#yith-wcbep-"+M[o]+"-bulk-select").val(),K=a("#yith-wcbep-"+M[o]+"-bulk-value").val(),N=a("#yith-wcbep-"+M[o]+"-bulk-replace").val();if(""!=K&&s.find(".not_editable").length<1){switch(J){case"new":G=K;break;case"pre":G=K+E;break;case"app":G=E+K;break;case"rep":G=E.replace(new RegExp(K,"g"),N)}s.html(G)}}var O=["manage_stock","stock_status","sold_individually","featured","virtual","downloadable","enable_reviews"];for(var o in O)if(H.indexOf(O[o])>-1){var s=a(I[j][H.indexOf(O[o])]),J=a("#yith-wcbep-"+O[o]+"-bulk-select").val();if(s.find(".not_editable").length<1)switch(J){case"skip":break;case"yes":s.find(".yith-wcbep-editable-checkbox").prop("checked",!1).trigger("click");break;case"no":s.find(".yith-wcbep-editable-checkbox").prop("checked",!0).trigger("click")}}var P=["tax_status","tax_class","allow_backorders","shipping_class","status","visibility","download_type","prod_type"];P=P.concat(extra_bulk.select);for(var o in P)if(H.indexOf(P[o])>-1){var s=a(I[j][H.indexOf(P[o])]),J=a("#yith-wcbep-"+P[o]+"-bulk-select").val();"skip"!=J&&s.find(".not_editable").length<1&&s.find(".yith-wcbep-editable-select").val(J).trigger("change")}var Q=["button_text","product_url","slug","up_sells","cross_sells","title","sku","sale_price_from","sale_price_to","date"];Q=Q.concat(extra_bulk.text);for(var o in Q)if(H.indexOf(Q[o])>-1){var s=a(I[j][H.indexOf(Q[o])]),E=s.html(),G="",J=a("#yith-wcbep-"+Q[o]+"-bulk-select").val(),K=a("#yith-wcbep-"+Q[o]+"-bulk-value").val(),N=a("#yith-wcbep-"+Q[o]+"-bulk-replace").val();if((""!=K||"del"==J)&&s.find(".not_editable").length<1){switch(J){case"new":G=K;break;case"pre":G=K+E;break;case"app":G=E+K;break;case"rep":G=E.replace(new RegExp(K,"g"),N);break;case"del":G=""}s.html(G)}}if(H.indexOf("image")>-1){var s=a(I[j][H.indexOf("image")]),E=s.html(),G="",J=a("#yith-wcbep-image-bulk-select").val(),K=a("#yith-wcbep-image-bulk-value").val(),N=a("#yith-wcbep-image-bulk-src").val();if((""!=K||"del"==J)&&s.find(".not_editable").length<1){switch(J){case"new":G=K;break;case"del":G="",N=""}s.find(".yith-wcbep-hidden-image-value").val(G),s.find("img").attr("src",N)}}ia.each(function(){var b=a(this);if(H.indexOf("attr_"+b.data("taxonomy-name"))>-1){var c=a(I[j][H.indexOf("attr_"+b.data("taxonomy-name"))]),d=b.parent().parent().find(".yith-wcbep-attributes-bulk-select").val(),e="",f=a.parseJSON(c.find(".yith-wcbep-select-selected").val()),g=b.val(),h=[],i=[];for(var k in f)f[k]=""+f[k];switch(b.find("option").each(function(){i.push(a(this).val()),h.push(a(this).text())}),d){case"new":e=g;break;case"add":e=f.slice();for(var k in g)e.indexOf(g[k])==-1&&e.push(g[k]);break;case"rem":e=f.slice();for(var k in g){var l=e.indexOf(g[k]);l>-1&&e.splice(l,1)}}var m=e;c.find(".yith-wcbep-attr-is-visible").val()<0&&m.length>0&&(m=[m[0]]),c.find(".yith-wcbep-select-selected").val("["+m+"]");var n="";for(var k in m)n+=h[i.indexOf(m[k])],k<m.length-1&&(n+=", ");c.find(".yith-wcbep-select-values").html(n)}})}da.fadeOut(),jb(),Ta(!0),a("#wpwrap").unblock()}),$.on("click",function(){kb()}),_.on("click",function(){var b=[],c=[];e.each(function(c,d){var e=a(d),f=null!=e.val()?e.val():null;for(var g in f)f[g]=parseInt(f[g]);b.push([e.data("taxonomy-name"),f])}),G=_a();var d=null!=P.val()?P.val().map(parseInt):null,f=[];for(var g in R.val()){var h=R.find("option[value="+R.val()[g]+"]").html();f.push(h)}for(var i in G){var j=G[i],k=!0;if(M.val().length>0){var l=j[H.indexOf("title")];switch(l.length<1&&(k=!1),L.val()){case"cont":l.indexOf(M.val())<0&&(k=!1);break;case"notcont":l.indexOf(M.val())>-1&&(k=!1);break;case"starts":0!=l.indexOf(M.val())&&(k=!1);break;case"ends":l.indexOf(M.val())!=l.length-M.val().length&&(k=!1)}}if(O.val().length>0){var m=j[H.indexOf("sku")];switch(m.length<1&&(k=!1),N.val()){case"cont":m.indexOf(O.val())<0&&(k=!1);break;case"notcont":m.indexOf(O.val())>-1&&(k=!1);break;case"starts":0!=m.indexOf(O.val())&&(k=!1);break;case"ends":m.indexOf(O.val())!=m.length-O.val().length&&(k=!1)}}if(null!=d&&d.length>0){var n=a.parseJSON(j[H.indexOf("categories")]);n.length<1&&(k=!1);for(var o in d)n.indexOf(d[o])<0&&(k=!1)}if(null!=f&&f.length>0){var p=j[H.indexOf("tags")].split(", ");p.length<1&&(k=!1);for(var o in f)p.indexOf(f[o])<0&&(k=!1)}for(var o in b)if(null!=b[o][1]&&b[o][1].length>0){
    var q=j[H.indexOf("attr_"+b[o][0])][2];q.length<1&&(k=!1);var r=b[o][1];for(var g in r)q.indexOf(r[g])<0&&(k=!1)}if(T.val().length>0){var s=parseFloat(j[H.indexOf("regular_price")]),t=parseFloat(T.val());switch(S.val()){case"mag":s>t||(k=!1);break;case"min":s<t||(k=!1);break;case"ug":s!=t&&(k=!1);break;case"magug":s>=t||(k=!1);break;case"minug":s<=t||(k=!1)}}if(V.val().length>0){var u=parseFloat(j[H.indexOf("sale_price")]),t=parseFloat(V.val());switch(U.val()){case"mag":u>t||(k=!1);break;case"min":u<t||(k=!1);break;case"ug":u!=t&&(k=!1);break;case"magug":u>=t||(k=!1);break;case"minug":u<=t||(k=!1)}}if(X.val().length>0){var v=parseFloat(j[H.indexOf("weight")]),w=parseFloat(X.val());switch(W.val()){case"mag":v>w||(k=!1);break;case"min":v<w||(k=!1);break;case"ug":v!=w&&(k=!1);break;case"magug":v>=w||(k=!1);break;case"minug":v<=w||(k=!1)}}var x=Z[0].checked?"yes":"no";if("no"==x){var y=a(j[H.indexOf("prod_type")]);y.is(".not_editable")&&(k=!1)}k&&c.push(parseInt(i))}var z=ba.find("tbody#the-list th.check-column > input"),A=0;z.each(function(){c.indexOf(A)>-1?a(this).attr("checked",!0):a(this).attr("checked",!1),A++})}),ma.on("click",function(){if(Ta(),xa.length>0){ba.block(Ma),ma.prop("disabled",!0),ca.prop("disabled",!0),G=_a();var c=[],d=[];for(var e in xa){var f=xa[e];c.push(G[f]),d.push(Sa[f])}for(var g in d){var h=d[g];for(ic in h){var i=h[ic];0==i&&2!=ic&&(c[g][ic]=null)}}var j=c.length,k=j,l=0,n=a("#yith-wcbep-percentual-container");n.html('<span class="yith-wcbep-percentual" style="width:'+l+'%;">'+l+"%</span>");var o=n.find("span.yith-wcbep-percentual");n.fadeIn();var p=c.length,q=function(e){if(e<p){var f={matrix_keys:H,matrix_modify:[c[e]],edited_matrix:[d[e]],action:"yith_wcbep_bulk_edit_products"};a.ajax({type:"POST",data:f,url:ajaxurl,success:function(a){b&&console.log(a)},complete:function(a){b&&console.log(a),j--,l=parseInt(100*(k-j)/k),o.html(l+"%"),o.animate({width:l+"%"}),q(++e)}})}else J.trigger("click"),n.delay(1500).fadeOut()};p>0&&q(0)}}),na.on("click",function(b){b.stopPropagation(),Pa(!0);var c=a(window).scrollTop()+100;oa.css({top:c}),oa.fadeIn()}),oa.on("click","input[type=checkbox]",function(a){mb()}),pa.on("click",function(){oa.find("input").attr("checked",!0),oa.find("input").first().attr("checked",!1).trigger("click")}),qa.on("click",function(){oa.find("input").attr("checked",!1),oa.find("input").first().attr("checked",!0).trigger("click")}),Da.on("click",function(a){var b=Da.offset().top+Da.outerHeight()+20,c=Da.offset().left+Da.outerWidth()/2-200;ra.fadeIn("fast"),ra.offset({top:b,left:c})}),sa.on("click",function(){ua.val(""),ra.fadeOut("fast")}),va.on("click",function(){var a=wp.media({title:"Choose file",multiple:!1}).open().on("select",function(){var b=a.state().get("selection").first(),c=b.toJSON().url;ua.val(c)})}),ta.on("click",function(){var c=(a("#yith-wcbep-importer-form"),{file_url:ua.val(),action:"yith_wcbep_import"});a.ajax({type:"POST",data:c,url:ajaxurl,success:function(b){if(b.length>0){Ia.html("<p>"+b+"</p>");var c=a('<button type="button" class="notice-dismiss" />');c.appendTo(Ia),Ia.fadeIn(),c.on("click",function(){Ia.fadeOut()})}ra.unblock(),ra.fadeOut("fast"),ua.val("")}})}),list={f_data:{paged:"1",order:"desc",orderby:"ID",f_show_variations:"no"},init:function(){var b,c=500;Za(),a(".tablenav-pages a, .manage-column.sortable a, .manage-column.sorted a").on("click",function(b){if(b.preventDefault(),!(bb>1)){var c=this.search.substring(1),d=[];e.each(function(){d.push([a(this).data("taxonomy-name"),a(this).val()])});var f=a.extend(list.f_data,{paged:list.__query(c,"paged")||"1",order:list.__query(c,"order")||"desc",orderby:list.__query(c,"orderby")||"ID"});list.update(f)}}),a("input[name=paged]").on("change",function(d){13==d.which&&d.preventDefault();var e=a(".tablenav-pages a")[0].search.substring(1),f=a("input[name=paged]"),g=a.extend(list.f_data,{paged:parseInt(f.val())||"1",order:list.__query(e,"order")||"desc",orderby:list.__query(e,"orderby")||"ID"});window.clearTimeout(b),b=window.setTimeout(function(){list.update(g)},c)})},update:function(b){ba.block(Ma),ma.prop("disabled",!0),ca.prop("disabled",!0),list.f_data=b,Q.length&&(b=a.extend({f_brands:Q.val()},b)),a.ajax({url:ajaxurl,data:a.extend({_ajax_yith_wcbep_list_nonce:a("#_ajax_yith_wcbep_list_nonce").val(),action:"_ajax_fetch_yith_wcbep_list"},b),success:function(b){var c=a.parseJSON(b);c.rows.length&&a("#the-list").html(c.rows),c.column_headers.length&&a("thead tr, tfoot tr").html(c.column_headers),c.pagination.bottom.length&&a(".tablenav.top .tablenav-pages").html(a(c.pagination.top).html()),c.pagination.top.length&&a(".tablenav.bottom .tablenav-pages").html(a(c.pagination.bottom).html()),list.init(),ba.unblock(),ma.prop("disabled",!1),ca.prop("disabled",!1),$a()}})},__query:function(a,b){for(var c=a.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==b)return e[1]}return!1}},list.init()});